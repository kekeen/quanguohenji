<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>系统管理-用户管理 - 全国痕迹检验网络实验室项目</title>
<meta name="renderer" content="webkit">

<link rel="stylesheet" href="../libs/ztree/css/zTreeStyle.css">
<link rel="stylesheet" href="../css/custom-bootstrap.css">
<link rel="stylesheet" href="../libs/icheck/skins/flat/_all.css">
<link rel="stylesheet" href="../libs/fonts/iconfont.css">
<link rel="stylesheet" href="../libs/datetimepicker-master/jquery.datetimepicker.css">
<link rel="stylesheet" href="../css/jquery.paging.css">
<link rel="stylesheet" href="../css/comment.css">
<link rel="stylesheet" href="../css/time_data.css">
<link rel="stylesheet" href="../css/manager-integral.css">


<!--[if lt IE 9]>
  <script src="//cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
</head>

<body>
    <div class="header">
    <div class="logo">
        <a href="index.html"><img src="../images/logo.png"></a>
    </div>
    <div class="nav-list">
        <ul class="clearfix">
            <li class=""><a href="index.html">首页</a></li>
            <li class=""><a href="紧急求助-我发出的求助.html">实战协同</a></li>
            <li class=""><a href="javascript:void(0)">实验室建设</a></li>
            <li class=""><a href="javascript:void(0)">标准规范</a></li>
            <li class=""><a href="在线学习-课程录像.html">在线学习</a></li>
            <li class=""><a href="javascript:void(0)">科技创新</a></li>
            <li class="active"><a href="系统管理-积分管理.html">系统管理</a></li>
        </ul>
    </div>
    <div class="set">
        <a href="javascript:void(0)" class="set-search"><i></i></a>
        <a href="login.html" class="set-login">登录</a>
        <a href="register.html" class="set-register">注册</a>
    </div>
 </div>
    <div class="content">
        <div class="left-sidebar">
    
    
    <ul>
        
        <li class="">
            
                <a href="系统管理-专家管理.html" >
                    
                    <i class="iconfont iconsystem-zhuanjia"></i>
                    专家管理
                    
                </a>
                
        </li>
        
        <li class="">
            
                <a href="系统管理-栏目管理.html" >
                    
                    <i class="iconfont iconsystem-lanmu"></i>
                    栏目管理
                    
                </a>
                
        </li>
        
        <li class="active">
            
                <a href="系统管理-用户管理.html" >
                    
                    <i class="iconfont iconsystem-yonghu"></i>
                    用户管理
                    
                </a>
                
        </li>
        
        <li class="">
            
                <a href="系统管理-角色管理.html" >
                    
                    <i class="iconfont iconsystem-juese"></i>
                    角色管理
                    
                </a>
                
        </li>
        
        <li class="">
            
                <a href="系统管理-字典管理.html" >
                    
                    <i class="iconfont iconsystem-zidian"></i>
                    字典管理
                    
                </a>
                
        </li>
        
        <li class="">
            
            <a href="系统管理-通知中心-消息通知.html" >
                
                    <i class="iconfont iconsystem-tongzhi"></i>
                    通知中心
                    
                    <em><i class="iconfont icon-outline-chevron_right-px"></i></em>
                    
                </a>
                
                <div class="left-side-kid">
                    
                    <a href="系统管理-通知中心-消息通知.html" class="">
                        消息通知
                    </a>
                    
                    <a href="系统管理-通知中心-通知管理.html" class="">
                        通知管理
                    </a>
                    
                </div>
                
        </li>
        
        <li class="">
            
                <a href="系统管理-积分管理.html" >
                    
                    <i class="iconfont iconsystem-jifen"></i>
                    积分管理
                    
                </a>
                
        </li>
        
        <li class="">
            
                <a href="系统管理-排班管理.html" >
                    
                    <i class="iconfont iconsystem-paiban"></i>
                    排班管理
                    
                </a>
                
        </li>
        
        <li class="">
            
                <a href="系统管理-日志管理.html" >
                    
                    <i class="iconfont iconsystem-rizhi"></i>
                    日志管理
                    
                </a>
                
        </li>
        
    </ul>
    
</div>
        <div class="content-right ">
        	<div class="links">
        		<a href="index.html">首页</a> / <a href="###">系统管理</a> / <a href="###" class="at">用户管理</a>
        	</div>
			<div class="console-box whitebox">
				<div class="title-box">
					用户管理
				</div>
				<div class="console-right pull-right">
					<button class="btns" onclick="window.location.href ='系统管理-用户管理-新增用户.html'">
						<span class="tips-num hide">12</span>
						新增用户
					</button>
				</div>
			</div>
			<div class="user-right-cont">
				<div class="unit-box">
					<div class="uni-search">
						<div class="search-box">
							<input type="text" placeholder="请输入单位名称" />
							<a href="javascript:void(0);" class="search-btn">
								<i class="iconfont icon-line-search"></i>
							</a>
						</div>
						<div class="tree-box">
							<div class="allChoose">
								<label><input type="checkbox"/>全选</label>
							</div>
							<!--<div class="ztree" id="tree"></div>-->
							<div>
								<ul id="ztree" class="ztree"></ul>
							</div>
						</div>
					</div>
				</div>
				<div class="right-content-box whitebox user-tableWrap">
					<div class="table-box">
						<div class="console-box-list">
							
							<ul class="table-console">
	
	<li class="console-list-lis inblock ib-mid">
		<label class="lbs ">警官证号：</label>
		
			<input type="text" class="inps" placeholder="请输入" style="width:undefinedpx"/>
		
	</li>
	
	<li class="console-list-lis inblock ib-mid">
		<label class="lbs ">姓名：</label>
		
			<input type="text" class="inps" placeholder="请输入" style="width:undefinedpx"/>
		
	</li>
	
	<li class="console-list-lis inblock ib-mid">
		<label class="lbs ">状态：</label>
		
			<div class="dropdown">
				<button class="inps dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="false">请选择 <span class="caret"></span></button>
	            <ul class="dropdown-menu">
	            	
	                <li><a href="javascript:;">禁用</a></li>
	                
	                <li><a href="javascript:;">启用</a></li>
	                
	            </ul>
            </div>
		
	</li>
	
	<li class="console-list-lis inblock ib-mid">
		<label class="lbs hide">查询：</label>
		
			<button class="btns">查询</button>
		
	</li>
	
</ul>
						</div>
						
						<table class="tables int-table">
							<thead>
							<tr>
								
								<th width="50"></th>
								
								
								<th>警官证号</th>
								
								
								<th>姓名</th>
								
								
								<th>单位</th>
								
								
								<th>角色</th>
								
								
								<th>状态</th>
								
								
								<th>操作</th>
								
								
							</tr>
							</thead>
							<tbody>
							
							<tr>
								<td><input type="checkbox"/></td>
								<td class="title">34568</td>
								<td>陈易信</td>
								<td>单位名称A</td>
								<td>管理员</td>
								<td>
									<div class="f-derail f-derail-s"><span></span><i></i></div>
								</td>
								<td class="operation">
									<a href="#" class="inblock ib-mid txtcol" data-toggle="modal" data-target="#seeDetail">查看</a>
									<a href="系统管理-用户管理-新增用户.html" class="inblock ib-mid txtcol">编辑</a>
									<a href="#" class="inblock ib-mid txtcol" data-toggle="modal" data-target="#remove">删除</a>
								</td>
							</tr>
							
							<tr>
								<td><input type="checkbox"/></td>
								<td class="title">34568</td>
								<td>陈易信</td>
								<td>单位名称A</td>
								<td>管理员</td>
								<td>
									<div class="f-derail f-derail-s"><span></span><i></i></div>
								</td>
								<td class="operation">
									<a href="#" class="inblock ib-mid txtcol" data-toggle="modal" data-target="#seeDetail">查看</a>
									<a href="系统管理-用户管理-新增用户.html" class="inblock ib-mid txtcol">编辑</a>
									<a href="#" class="inblock ib-mid txtcol" data-toggle="modal" data-target="#remove">删除</a>
								</td>
							</tr>
							
							<tr>
								<td><input type="checkbox"/></td>
								<td class="title">34568</td>
								<td>陈易信</td>
								<td>单位名称A</td>
								<td>管理员</td>
								<td>
									<div class="f-derail f-derail-s"><span></span><i></i></div>
								</td>
								<td class="operation">
									<a href="#" class="inblock ib-mid txtcol" data-toggle="modal" data-target="#seeDetail">查看</a>
									<a href="系统管理-用户管理-新增用户.html" class="inblock ib-mid txtcol">编辑</a>
									<a href="#" class="inblock ib-mid txtcol" data-toggle="modal" data-target="#remove">删除</a>
								</td>
							</tr>
							
							<tr>
								<td><input type="checkbox"/></td>
								<td class="title">34568</td>
								<td>陈易信</td>
								<td>单位名称A</td>
								<td>管理员</td>
								<td>
									<div class="f-derail f-derail-s"><span></span><i></i></div>
								</td>
								<td class="operation">
									<a href="#" class="inblock ib-mid txtcol" data-toggle="modal" data-target="#seeDetail">查看</a>
									<a href="系统管理-用户管理-新增用户.html" class="inblock ib-mid txtcol">编辑</a>
									<a href="#" class="inblock ib-mid txtcol" data-toggle="modal" data-target="#remove">删除</a>
								</td>
							</tr>
							
							<tr>
								<td><input type="checkbox"/></td>
								<td class="title">34568</td>
								<td>陈易信</td>
								<td>单位名称A</td>
								<td>管理员</td>
								<td>
									<div class="f-derail f-derail-s"><span></span><i></i></div>
								</td>
								<td class="operation">
									<a href="#" class="inblock ib-mid txtcol" data-toggle="modal" data-target="#seeDetail">查看</a>
									<a href="系统管理-用户管理-新增用户.html" class="inblock ib-mid txtcol">编辑</a>
									<a href="#" class="inblock ib-mid txtcol" data-toggle="modal" data-target="#remove">删除</a>
								</td>
							</tr>
							
							<tr>
								<td><input type="checkbox"/></td>
								<td class="title">34568</td>
								<td>陈易信</td>
								<td>单位名称A</td>
								<td>管理员</td>
								<td>
									<div class="f-derail f-derail-s"><span></span><i></i></div>
								</td>
								<td class="operation">
									<a href="#" class="inblock ib-mid txtcol" data-toggle="modal" data-target="#seeDetail">查看</a>
									<a href="系统管理-用户管理-新增用户.html" class="inblock ib-mid txtcol">编辑</a>
									<a href="#" class="inblock ib-mid txtcol" data-toggle="modal" data-target="#remove">删除</a>
								</td>
							</tr>
							
							<tr>
								<td><input type="checkbox"/></td>
								<td class="title">34568</td>
								<td>陈易信</td>
								<td>单位名称A</td>
								<td>管理员</td>
								<td>
									<div class="f-derail f-derail-s"><span></span><i></i></div>
								</td>
								<td class="operation">
									<a href="#" class="inblock ib-mid txtcol" data-toggle="modal" data-target="#seeDetail">查看</a>
									<a href="系统管理-用户管理-新增用户.html" class="inblock ib-mid txtcol">编辑</a>
									<a href="#" class="inblock ib-mid txtcol" data-toggle="modal" data-target="#remove">删除</a>
								</td>
							</tr>
							
							<tr>
								<td><input type="checkbox"/></td>
								<td class="title">34568</td>
								<td>陈易信</td>
								<td>单位名称A</td>
								<td>管理员</td>
								<td>
									<div class="f-derail f-derail-s"><span></span><i></i></div>
								</td>
								<td class="operation">
									<a href="#" class="inblock ib-mid txtcol" data-toggle="modal" data-target="#seeDetail">查看</a>
									<a href="系统管理-用户管理-新增用户.html" class="inblock ib-mid txtcol">编辑</a>
									<a href="#" class="inblock ib-mid txtcol" data-toggle="modal" data-target="#remove">删除</a>
								</td>
							</tr>
							
							<tr>
								<td><input type="checkbox"/></td>
								<td class="title">34568</td>
								<td>陈易信</td>
								<td>单位名称A</td>
								<td>管理员</td>
								<td>
									<div class="f-derail f-derail-s"><span></span><i></i></div>
								</td>
								<td class="operation">
									<a href="#" class="inblock ib-mid txtcol" data-toggle="modal" data-target="#seeDetail">查看</a>
									<a href="系统管理-用户管理-新增用户.html" class="inblock ib-mid txtcol">编辑</a>
									<a href="#" class="inblock ib-mid txtcol" data-toggle="modal" data-target="#remove">删除</a>
								</td>
							</tr>
							
							<tr>
								<td><input type="checkbox"/></td>
								<td class="title">34568</td>
								<td>陈易信</td>
								<td>单位名称A</td>
								<td>管理员</td>
								<td>
									<div class="f-derail f-derail-s"><span></span><i></i></div>
								</td>
								<td class="operation">
									<a href="#" class="inblock ib-mid txtcol" data-toggle="modal" data-target="#seeDetail">查看</a>
									<a href="系统管理-用户管理-新增用户.html" class="inblock ib-mid txtcol">编辑</a>
									<a href="#" class="inblock ib-mid txtcol" data-toggle="modal" data-target="#remove">删除</a>
								</td>
							</tr>
							
							</tbody>
						</table>
						<div class="pag-box">
							<div class="pull-left">
								<input type="checkbox">
								<a class="blueBtn" href="#" data-toggle="modal" data-target="#pl-remove">批量删除</a>
							</div>
							<div class="pagging"></div>
						</div>
					</div>
				</div>
			</div>
        </div>
    </div>
	
	<!-- Modal 预览-->

<div class="modal fade modal-delete" id="remove" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header clearfix">
        <span>删除提示</span>
        <a href="javascript:void(0);" data-dismiss="modal" aria-hidden="true" class="closer"><img src="../images/close.png"></a>
      </div>
      <div class="modal-body">
          确定删除用户【陈易信】？
      </div>
      <div class="modal-footer">
        <button type="button" class="f-btn" data-dismiss="modal">取消</button>
        <button type="button" class="f-btn f-btn-a">确认</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade modal-delete" id="pl-remove" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header clearfix">
        <span>删除提示</span>
        <a href="javascript:void(0);" data-dismiss="modal" aria-hidden="true" class="closer"><img src="../images/close.png"></a>
      </div>
      <div class="modal-body">
          确定删除选中的用户？
      </div>
      <div class="modal-footer">
        <button type="button" class="f-btn" data-dismiss="modal">取消</button>
        <button type="button" class="f-btn f-btn-a">确认</button>
      </div>
    </div>
  </div>
</div>

	<!--查看-->
	<div class="modal in" id="seeDetail">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header clearfix">
					<span>查看</span>
					<a href="javascript:void(0);" data-dismiss="modal" aria-hidden="true" class="closer"><img src="../images/close.png"></a>
				</div>
				<div class="modal-body">
					<div class="modal-body-cont clearfix">
						<div class="contLeft">
							<div class="img"><img src="../images/hj.png"/></div>
							<p>
								易烊千玺
								<!--男icon-->
								<i class="iconfont iconcom-man"></i>
								<!--女icon-->
								<!--<i class="iconfont iconcom-woman"></i>-->
								<!--无性别icon-->
								<!--<i class="iconfont iconcom-wu"></i>-->
							</p>
							<p class="grayColor">警官证号：345345</p>
							<p class="grayColor">密码：******</p>
						</div>
						<div class="contRight">
							<ul>
								<li><span class="grayColor">单位：</span>湖南省公安厅</li>
								<li><span class="grayColor">职务：</span>处长</li>
								<li><span class="grayColor">职称：</span>教授</li>
								<li><span class="grayColor">角色：</span>地方用户</li>
								<li><span class="grayColor">专业：</span>痕迹检验</li>
								<li><span class="grayColor">状态：</span>启用</li>
								<li><span class="grayColor">联系方式：</span>15034332211</li>
								<li><span class="grayColor">邮箱：</span>duoduo@163.com</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
    
<script src="../libs/jquery/jquery.min.js"></script>
<script src="../libs/ztree/jquery.ztree.all.js"></script>
<script src="../libs/bootstrap/dist/bootstrap.min.js"></script>
<script src="../libs/datetimepicker-master/build/jquery.datetimepicker.full.min.js"></script>
<script src="../libs/icheck/icheck.min.js"></script>
<script src="../js/jquery.paging.js"></script>
<script src="../js/global.js"></script>


</body>
</html>
<script type="text/javascript">
	//$('#seeDetail').modal('show');
    //树组件
    //ztree();
//    function ztree() {
//        $(".result-list").on('click', '.user-del', function() {
//            var that = $(this),
//                target = that.parent(),
//                tree = $("#tree"),
//                txt = that.siblings("span").text(),
//                arr = zTreeObj.getCheckedNodes(),
//                font = $(".result-box .checked-num"),
//                num = parseInt(font.html());
//            for(var i in arr) {
//                if(txt == arr[i].name) {
//                    zTreeObj.checkNode(arr[i], false)
//                    target.remove();
//                    num--;
//                    if(num == 0) {
//                        zTreeObj.checkAllNodes(false);
//                    }
//                    font.html(num);
//                }
//            }
//        });
//        var zTreeObj,
//            folder = "../images/folder.png",
//            folder_open = "../images/folder-open.png",
//            admin = "../images/tree-file.png",
//            setting = {
//                view: {
//                    showTitle: false
//                },
//                check: {
//                    enable: true
//                },
//                callback: {
//                    onCheck: function(e, treeId, treeNode) {
//                        var flag = treeNode.checked,
//                            str = treeNode.name,
//                            target = $(e.currentTarget).parent('.tree-box').siblings('.result-box').find('.result-list'),
//                            lis = target.find('li'),
//                            font = $(".result-box .checked-num"),
//                            arr = zTreeObj.getCheckedNodes(true),
//                            num = 0;
//                        if(flag) {
//                            //选中
//                            if(treeNode.check_Child_State == -1) {
//                                //判断是否选中的是否为子节点
//                                if(lis.text().indexOf(str) == -1) {
//                                    target.append('<li><span>' + str + '</span><a href="javascript:void(0);" class="pull-right user-del"><img src="../images/user_del.png"></a>');
//                                }
//                            } else {
//                                var child_arr = treeNode.children;
//                                for(var i in child_arr) {
//                                    if(lis.text().indexOf(child_arr[i].name) == -1) {
//                                        target.append('<li><span>' + child_arr[i].name + '</span><a href="javascript:void(0);" class="pull-right user-del"><img src="../images/user_del.png"></a>');
//                                    }
//                                }
//                            }
//                        } else {
//                            //取消选中
//                            if(treeNode.check_Child_State == -1) {
//                                //判断是否选中的是否为子节点
//                                lis.each(function() {
//                                    var that = $(this),
//                                        txt = that.find('span').text(),
//                                        index = that.index();
//                                    if(txt == str) {
//                                        lis.eq(index).remove();
//                                    }
//                                })
//                            } else {
//                                lis.remove();
//                            }
//                        }
//                        for(var i in arr) {
//                            if(arr[i].check_Child_State == -1)
//                            //判断是否选中的是否为子节点
//                                num++;
//                        }
//                        font.html(num);
//                    }
//                }
//            },
//            child = [{
//                name: "黄多多",
//                open: true,
//                icon: admin,
//                checked: true
//            }, {
//                name: "陈依依",
//                open: true,
//                icon: admin
//            }, {
//                name: "陈依依1",
//                open: true,
//                icon: admin
//            }, {
//                name: "陈依依2",
//                open: true,
//                icon: admin
//            }]
//        zNodes = [{
//            name: "专家组",
//            open: true,
//            iconClose: folder,
//            iconOpen: folder_open,
//            children: child
//        }];
//        $(document).ready(function() {
//            zTreeObj = $.fn.zTree.init($("#tree"), setting, zNodes);
//        });
//    }
    ztree();
	function ztree() {
        // ztree
        var setting = {
            view: {
                fontCss: getFont,
                addHoverDom: addHoverDom,
                removeHoverDom: removeHoverDom,
                selectedMulti: false
            },
            check: {
                enable: true
            },
            edit: {
                enable: true,
                editNameSelectAll: true,
                showRemoveBtn: showRemoveBtn,
                showRenameBtn: showRenameBtn
            },
            data: {
                simpleData: {
                    enable: true
                }
            },
            callback: {
                beforeDrag: beforeDrag,
                // beforeEditName: beforeEditName,
                beforeRemove: beforeRemove,
                beforeRename: beforeRename,
                onRemove: onRemove,
                onRename: onRename
            }
        };

        var zNodes = [
            { id: 1, pId: 0, name: "父节点 1", iconSkin: 'pIcon01' },
            { id: 11, pId: 1, name: "叶子节点 1-1", iconSkin: 'icon01' },
            { id: 12, pId: 1, name: "叶子节点 1-2", iconSkin: 'icon01' },
            { id: 13, pId: 1, name: "叶子节点 1-3", iconSkin: 'icon01' },
            { id: 2, pId: 0, name: "父节点 2", iconSkin: 'pIcon01' },
            { id: 21, pId: 2, name: "叶子节点 2-1", iconSkin: 'icon01' },
            { id: 22, pId: 2, name: "叶子节点 2-2", iconSkin: 'icon01' },
            { id: 23, pId: 2, name: "叶子节点 2-3", iconSkin: 'icon01' },
            { id: 3, pId: 0, name: "父节点 3", iconSkin: 'pIcon01' },
            { id: 31, pId: 3, name: "叶子节点 3-1", iconSkin: 'icon01' },
            { id: 32, pId: 3, name: "叶子节点 3-2", iconSkin: 'icon01' },
            { id: 33, pId: 3, name: "叶子节点 3-3", iconSkin: 'icon01' }
        ];

        var log, className = "dark";
        function beforeDrag(treeId, treeNodes) {
            return false;
        }
        // 控制字体样式
        function getFont(treeId, node) {
            if (node.pId) {
                node.font = { 'font-size': '12px' };
            }
            return node.font ? node.font : {};
        }
        // 编辑确认
        function beforeEditName(treeId, treeNode) {
            className = (className === "dark" ? "" : "dark");
            showLog("[ " + getTime() + " beforeEditName ]&nbsp;&nbsp;&nbsp;&nbsp; " + treeNode.name);
            var zTree = $.fn.zTree.getZTreeObj("ztree");
            zTree.selectNode(treeNode);
            setTimeout(function () {
                if (confirm("进入节点 -- " + treeNode.name + " 的编辑状态吗？")) {
                    setTimeout(function () {
                        zTree.editName(treeNode);
                    }, 0);
                }
            }, 0);
            return false;
        }
        // 删除确认
        function beforeRemove(treeId, treeNode) {
            className = (className === "dark" ? "" : "dark");
            showLog("[ " + getTime() + " beforeRemove ]&nbsp;&nbsp;&nbsp;&nbsp; " + treeNode.name);
            var zTree = $.fn.zTree.getZTreeObj("ztree");
            zTree.selectNode(treeNode);
            return confirm("确认删除 节点 -- " + treeNode.name + " 吗？");
        }
        // 删除
        function onRemove(e, treeId, treeNode) {
            showLog("[ " + getTime() + " onRemove ]&nbsp;&nbsp;&nbsp;&nbsp; " + treeNode.name);
        }
        // 内容判断
        function beforeRename(treeId, treeNode, newName, isCancel) {
            className = (className === "dark" ? "" : "dark");
            showLog((isCancel ? "<span style='color:red'>" : "") + "[ " + getTime() + " beforeRename ]&nbsp;&nbsp;&nbsp;&nbsp; " + treeNode.name + (isCancel ? "</span>" : ""));
            if (newName.length == 0) {
                setTimeout(function () {
                    var zTree = $.fn.zTree.getZTreeObj("ztree");
                    zTree.cancelEditName();
                    alert("节点名称不能为空.");
                }, 0);
                return false;
            }
            return true;
        }
        // 重命名
        function onRename(e, treeId, treeNode, isCancel) {
            showLog((isCancel ? "<span style='color:red'>" : "") + "[ " + getTime() + " onRename ]&nbsp;&nbsp;&nbsp;&nbsp; " + treeNode.name + (isCancel ? "</span>" : ""));
        }
        // 删除按钮
        function showRemoveBtn(treeId, treeNode) {
            return !treeNode.isFirstNode;
        }
        // 编辑按钮
        function showRenameBtn(treeId, treeNode) {
            return !treeNode.isLastNode;
        }
        function showLog(str) {
            if (!log) log = $("#log");
            log.append("<li class='" + className + "'>" + str + "</li>");
            if (log.children("li").length > 8) {
                log.get(0).removeChild(log.children("li")[0]);
            }
        }
        // 获取时间
        function getTime() {
            var now = new Date(),
                h = now.getHours(),
                m = now.getMinutes(),
                s = now.getSeconds(),
                ms = now.getMilliseconds();
            return (h + ":" + m + ":" + s + " " + ms);
        }
        // 添加移入状态
        var newCount = 1;
        function addHoverDom(treeId, treeNode) {
            var sObj = $("#" + treeNode.tId + "_span");
            if (treeNode.editNameFlag || $("#addBtn_" + treeNode.tId).length > 0) return;
            var addStr = "<span class='button add' id='addBtn_" + treeNode.tId
                + "' title='add node' onfocus='this.blur();'></span>";
            sObj.after(addStr);
            var btn = $("#addBtn_" + treeNode.tId);
            if (btn) btn.bind("click", function () {
                var zTree = $.fn.zTree.getZTreeObj("ztree");
                zTree.addNodes(treeNode, { id: (100 + newCount), pId: treeNode.id, name: "new node" + (newCount++) });
                return false;
            });
        };
        // 移除移入状态
        function removeHoverDom(treeId, treeNode) {
            $("#addBtn_" + treeNode.tId).unbind().remove();
        };
        // 全选
        function selectAll() {
            var zTree = $.fn.zTree.getZTreeObj("ztree");
            zTree.setting.edit.editNameSelectAll = $("#selectAll").attr("checked");
        }

        $(document).ready(function () {
            $.fn.zTree.init($("#ztree"), setting, zNodes);
            $("#selectAll").bind("click", selectAll);
        });
    }
    // 开关按钮
    derail();
    function derail() {
        $('.f-derail').on('click', function () {
            if ($(this).hasClass('on')) {
                $(this).removeClass('on');
            }
            else {
                $(this).addClass('on');
            }
        })
    }
</script>